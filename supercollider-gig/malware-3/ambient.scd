SuperDirt.start;

MainHPF.new();

MainHPF.set(\freq, 20);

Ndef(\pad).play;
Ndef(\pad).fadeTime = 5;
Ndef(\pad).free;

(
Ndef(\pad, {
	arg freq;
	var snd;
	snd = Saw.ar(freq * (LFNoise2.kr(3 ! 8) * 2).midiratio);
	snd = RLPF.ar(snd, LFNoise2.kr(3 ! 8).linexp(-1, 1, 10, 8000), 0.1);
	snd = Splay.ar(snd);
	snd = snd * Env.asr(1, 1, 1).ar(Done.freeSelf, \gate.kr(1));
	snd = snd * -10.dbamp;
	Out.ar(\out.kr(0), snd);
}).add;
)

(
Ndef(\pad)[999] = \xset -> Pbind(
	\time, Pseq([0.75,0.5, 0.5, 0.5] * 0.2, inf),
	\dur, Pseq([0.75,0.5, 0.5, 0.5] * 10, inf),
	\freq, Pseq([60, 53, 60], inf),
);
)

Ndef(\pad2).play;
Ndef(\pad).copy(\pad2);
Ndef(\pad2).xset(\freq, 1000);
(
Ndef(\pad2)[999] = \xset -> Pbind(
	\time, Pseq([0.75,0.5, 0.5, 0.5] * 0.01, inf),
	\dur, Pseq([0.75,0.5, 0.5, 0.5] * 0.1, inf),
	\freq, Pseq([60.midicps, 53.midicps, 60.midicps], inf),
);
)
