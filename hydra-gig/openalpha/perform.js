bpm = 160
speed = 0.1

osc(10, 0.1, 10)
  .mask(
    osc(10, 0.1)
      .thresh([0.2, 0.3, 0.8])
      .rotate(() => time / 2)
      .modulateScale(noise(0.3))
  )
  .colorama(1)
  .modulateRotate(osc([100, 20, 1].fast()))
  .color(1, [0, 0.2,1], [0, 1])
  .scroll([2, 4, 6], [2, 3, 4])
  .modulate(o0)
  .diff(o1)
  .brightness(-0.15)
  .thresh(0.2)
  .out(o0)

  osc(10, 1, 10)
    .invert([0, 1])
    .modulateScrollX(osc([1, 3, 2], 0.2))
    // .modulate(osc(20, 0.2))
    .scale([1, 0.83, 0.6, 0.5])
    .modulateRotate(noise(0.1), [0.2, 0.4, 0])
    .color([1, 0], [0, 1], 0.3)
    .mask(shape(2).scale([2, 1, 1.5].fast()))
    .mask(shape(2).scale(() => Math.random() * 4))
    .scale(1.2)
    .modulate(o0, [0, 1, 2, 3])
    // .blend(solid(1, 1, 1), [0, 1].fast())
    // .diff(o1)
    // .layer(src(o1).luma(0.6))
    .out(o0)
